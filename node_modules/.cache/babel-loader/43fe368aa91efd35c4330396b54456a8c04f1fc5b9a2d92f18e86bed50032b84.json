{"ast":null,"code":"// File Service\nconst API_ENDPOINT = 'https://2oepisw9e3.execute-api.ap-south-1.amazonaws.com/prod';\nexport const fileService = {\n  async uploadFile(file, token) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await fetch(`${API_ENDPOINT}/upload`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error('Upload failed');\n      }\n      return {\n        success: true,\n        message: 'File uploaded successfully'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  },\n  async listFiles(token) {\n    try {\n      const response = await fetch(`${API_ENDPOINT}/`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch files');\n      }\n      const data = await response.json();\n      return {\n        success: true,\n        files: data.files || []\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  },\n  async downloadFile(fileKey, token) {\n    try {\n      const response = await fetch(`${API_ENDPOINT}/${fileKey}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Download failed');\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = fileKey;\n      a.click();\n      window.URL.revokeObjectURL(url);\n      return {\n        success: true\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  },\n  async deleteFile(fileKey, token) {\n    try {\n      const response = await fetch(`${API_ENDPOINT}/${fileKey}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Delete failed');\n      }\n      return {\n        success: true,\n        message: 'File deleted successfully'\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n};","map":{"version":3,"names":["API_ENDPOINT","fileService","uploadFile","file","token","formData","FormData","append","response","fetch","method","headers","body","ok","Error","success","message","error","listFiles","data","json","files","downloadFile","fileKey","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","deleteFile"],"sources":["C:/Users/COLORSHINE/Desktop/cloud-storage-frontend/src/services/fileService.js"],"sourcesContent":["// File Service\r\nconst API_ENDPOINT = 'https://2oepisw9e3.execute-api.ap-south-1.amazonaws.com/prod';\r\n\r\nexport const fileService = {\r\n    async uploadFile(file, token) {\r\n        try {\r\n            const formData = new FormData();\r\n            formData.append('file', file);\r\n\r\n            const response = await fetch(`${API_ENDPOINT}/upload`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: formData\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Upload failed');\r\n            }\r\n\r\n            return { success: true, message: 'File uploaded successfully' };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    },\r\n\r\n    async listFiles(token) {\r\n        try {\r\n            const response = await fetch(`${API_ENDPOINT}/`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to fetch files');\r\n            }\r\n\r\n            const data = await response.json();\r\n            return { success: true, files: data.files || [] };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    },\r\n\r\n    async downloadFile(fileKey, token) {\r\n        try {\r\n            const response = await fetch(`${API_ENDPOINT}/${fileKey}`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Download failed');\r\n            }\r\n\r\n            const blob = await response.blob();\r\n            const url = window.URL.createObjectURL(blob);\r\n            const a = document.createElement('a');\r\n            a.href = url;\r\n            a.download = fileKey;\r\n            a.click();\r\n            window.URL.revokeObjectURL(url);\r\n\r\n            return { success: true };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    },\r\n\r\n    async deleteFile(fileKey, token) {\r\n        try {\r\n            const response = await fetch(`${API_ENDPOINT}/${fileKey}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Delete failed');\r\n            }\r\n\r\n            return { success: true, message: 'File deleted successfully' };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}