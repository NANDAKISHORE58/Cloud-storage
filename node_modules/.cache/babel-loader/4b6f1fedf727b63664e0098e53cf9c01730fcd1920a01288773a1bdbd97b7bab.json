{"ast":null,"code":"// Authentication Service\nconst AUTH_CONFIG = {\n  userPoolId: 'ap-south-1_vTAVjSOra',\n  clientId: '42dipcrd3r5uf9elpech2138',\n  region: 'ap-south-1'\n};\nexport const authService = {\n  async login(username, password) {\n    try {\n      const response = await fetch(`https://cognito-idp.${AUTH_CONFIG.region}.amazonaws.com/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-amz-json-1.1',\n          'X-Amz-Target': 'AWSCognitoIdentityProviderService.AdminInitiateAuth'\n        },\n        body: JSON.stringify({\n          UserPoolId: AUTH_CONFIG.userPoolId,\n          ClientId: AUTH_CONFIG.clientId,\n          AuthFlow: 'ADMIN_NO_SRP_AUTH',\n          AuthParameters: {\n            USERNAME: username,\n            PASSWORD: password\n          }\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Login failed');\n      }\n      const data = await response.json();\n      const token = data.AuthenticationResult.IdToken;\n\n      // Store in localStorage\n      localStorage.setItem('token', token);\n      localStorage.setItem('user', username);\n      return {\n        success: true,\n        token,\n        username\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  },\n  async logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    return {\n      success: true\n    };\n  },\n  getToken() {\n    return localStorage.getItem('token');\n  },\n  getUser() {\n    return localStorage.getItem('user');\n  },\n  isAuthenticated() {\n    return !!localStorage.getItem('token');\n  }\n};","map":{"version":3,"names":["AUTH_CONFIG","userPoolId","clientId","region","authService","login","username","password","response","fetch","method","headers","body","JSON","stringify","UserPoolId","ClientId","AuthFlow","AuthParameters","USERNAME","PASSWORD","ok","Error","data","json","token","AuthenticationResult","IdToken","localStorage","setItem","success","error","message","logout","removeItem","getToken","getItem","getUser","isAuthenticated"],"sources":["C:/Users/COLORSHINE/Desktop/cloud-storage-frontend/src/services/authService.js"],"sourcesContent":["// Authentication Service\r\nconst AUTH_CONFIG = {\r\n    userPoolId: 'ap-south-1_vTAVjSOra',\r\n    clientId: '42dipcrd3r5uf9elpech2138',\r\n    region: 'ap-south-1'\r\n};\r\n\r\nexport const authService = {\r\n    async login(username, password) {\r\n        try {\r\n            const response = await fetch(\r\n                `https://cognito-idp.${AUTH_CONFIG.region}.amazonaws.com/`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/x-amz-json-1.1',\r\n                        'X-Amz-Target': 'AWSCognitoIdentityProviderService.AdminInitiateAuth'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        UserPoolId: AUTH_CONFIG.userPoolId,\r\n                        ClientId: AUTH_CONFIG.clientId,\r\n                        AuthFlow: 'ADMIN_NO_SRP_AUTH',\r\n                        AuthParameters: {\r\n                            USERNAME: username,\r\n                            PASSWORD: password\r\n                        }\r\n                    })\r\n                }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Login failed');\r\n            }\r\n\r\n            const data = await response.json();\r\n            const token = data.AuthenticationResult.IdToken;\r\n            \r\n            // Store in localStorage\r\n            localStorage.setItem('token', token);\r\n            localStorage.setItem('user', username);\r\n            \r\n            return { success: true, token, username };\r\n        } catch (error) {\r\n            return { success: false, error: error.message };\r\n        }\r\n    },\r\n\r\n    async logout() {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        return { success: true };\r\n    },\r\n\r\n    getToken() {\r\n        return localStorage.getItem('token');\r\n    },\r\n\r\n    getUser() {\r\n        return localStorage.getItem('user');\r\n    },\r\n\r\n    isAuthenticated() {\r\n        return !!localStorage.getItem('token');\r\n    }\r\n};\r\n"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG;EAChBC,UAAU,EAAE,sBAAsB;EAClCC,QAAQ,EAAE,0BAA0B;EACpCC,MAAM,EAAE;AACZ,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG;EACvB,MAAMC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAC5B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACxB,uBAAuBT,WAAW,CAACG,MAAM,iBAAiB,EAC1D;QACIO,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,4BAA4B;UAC5C,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBC,UAAU,EAAEf,WAAW,CAACC,UAAU;UAClCe,QAAQ,EAAEhB,WAAW,CAACE,QAAQ;UAC9Be,QAAQ,EAAE,mBAAmB;UAC7BC,cAAc,EAAE;YACZC,QAAQ,EAAEb,QAAQ;YAClBc,QAAQ,EAAEb;UACd;QACJ,CAAC;MACL,CACJ,CAAC;MAED,IAAI,CAACC,QAAQ,CAACa,EAAE,EAAE;QACd,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;MACnC;MAEA,MAAMC,IAAI,GAAG,MAAMf,QAAQ,CAACgB,IAAI,CAAC,CAAC;MAClC,MAAMC,KAAK,GAAGF,IAAI,CAACG,oBAAoB,CAACC,OAAO;;MAE/C;MACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEJ,KAAK,CAAC;MACpCG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEvB,QAAQ,CAAC;MAEtC,OAAO;QAAEwB,OAAO,EAAE,IAAI;QAAEL,KAAK;QAAEnB;MAAS,CAAC;IAC7C,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACZ,OAAO;QAAED,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACnD;EACJ,CAAC;EAED,MAAMC,MAAMA,CAAA,EAAG;IACXL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChCN,YAAY,CAACM,UAAU,CAAC,MAAM,CAAC;IAC/B,OAAO;MAAEJ,OAAO,EAAE;IAAK,CAAC;EAC5B,CAAC;EAEDK,QAAQA,CAAA,EAAG;IACP,OAAOP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC;EACxC,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACN,OAAOT,YAAY,CAACQ,OAAO,CAAC,MAAM,CAAC;EACvC,CAAC;EAEDE,eAAeA,CAAA,EAAG;IACd,OAAO,CAAC,CAACV,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC;EAC1C;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}