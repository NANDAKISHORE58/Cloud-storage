{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\COLORSHINE\\\\Desktop\\\\cloud-storage-frontend\\\\src\\\\components\\\\FileUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport { Upload, AlertCircle, CheckCircle } from 'lucide-react';\nimport { fileService } from '../services/fileService';\nimport { authService } from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FileUpload({\n  onUploadSuccess\n}) {\n  _s();\n  const fileInputRef = useRef(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [fileName, setFileName] = useState('');\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      setFileName(file.name);\n    }\n  };\n  const handleUpload = async () => {\n    if (!fileInputRef.current.files[0]) {\n      setMessage({\n        type: 'error',\n        text: 'Please select a file'\n      });\n      return;\n    }\n    setLoading(true);\n    setMessage('');\n    const file = fileInputRef.current.files[0];\n    const token = authService.getToken();\n    const result = await fileService.uploadFile(file, token);\n    if (result.success) {\n      setMessage({\n        type: 'success',\n        text: result.message\n      });\n      setFileName('');\n      fileInputRef.current.value = '';\n      onUploadSuccess();\n    } else {\n      setMessage({\n        type: 'error',\n        text: result.error\n      });\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.title,\n      children: [/*#__PURE__*/_jsxDEV(Upload, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), \" Upload File\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...styles.message,\n        ...(message.type === 'error' ? styles.error : styles.success)\n      },\n      children: [message.type === 'error' ? /*#__PURE__*/_jsxDEV(AlertCircle, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {\n        size: 18\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.inputGroup,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        onChange: handleFileSelect,\n        style: styles.fileInput\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: styles.fileName,\n        children: fileName || 'No file selected'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      disabled: loading,\n      style: {\n        ...styles.button,\n        opacity: loading ? 0.7 : 1\n      },\n      children: loading ? 'Uploading...' : 'Upload'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(FileUpload, \"5m2z+pbAwHaeFBpL11AyyaHaRDE=\");\n_c = FileUpload;\nconst styles = {\n  card: {\n    background: 'white',\n    borderRadius: '12px',\n    padding: '20px',\n    boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\n    marginBottom: '20px'\n  },\n  title: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    fontSize: '18px',\n    marginBottom: '16px'\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n    gap: '8px',\n    padding: '10px',\n    borderRadius: '8px',\n    marginBottom: '12px',\n    fontSize: '14px'\n  },\n  error: {\n    background: '#f8d7da',\n    color: '#721c24'\n  },\n  success: {\n    background: '#d4edda',\n    color: '#155724'\n  },\n  inputGroup: {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: '8px',\n    marginBottom: '16px'\n  },\n  fileInput: {\n    padding: '6px 0'\n  },\n  fileName: {\n    fontSize: '13px',\n    color: '#555'\n  },\n  button: {\n    padding: '10px 16px',\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n    color: 'white',\n    border: 'none',\n    borderRadius: '8px',\n    fontWeight: '600',\n    cursor: 'pointer'\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useRef","useState","Upload","AlertCircle","CheckCircle","fileService","authService","jsxDEV","_jsxDEV","FileUpload","onUploadSuccess","_s","fileInputRef","loading","setLoading","message","setMessage","fileName","setFileName","handleFileSelect","e","file","target","files","name","handleUpload","current","type","text","token","getToken","result","uploadFile","success","value","error","style","styles","card","children","title","size","_jsxFileName","lineNumber","columnNumber","inputGroup","ref","onChange","fileInput","onClick","disabled","button","opacity","_c","background","borderRadius","padding","boxShadow","marginBottom","display","alignItems","gap","fontSize","color","flexDirection","border","fontWeight","cursor","$RefreshReg$"],"sources":["C:/Users/COLORSHINE/Desktop/cloud-storage-frontend/src/components/FileUpload.jsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\r\nimport { Upload, AlertCircle, CheckCircle } from 'lucide-react';\r\nimport { fileService } from '../services/fileService';\r\nimport { authService } from '../services/authService';\r\n\r\nexport default function FileUpload({ onUploadSuccess }) {\r\n  const fileInputRef = useRef(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [fileName, setFileName] = useState('');\r\n\r\n  const handleFileSelect = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setFileName(file.name);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!fileInputRef.current.files[0]) {\r\n      setMessage({ type: 'error', text: 'Please select a file' });\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    const file = fileInputRef.current.files[0];\r\n    const token = authService.getToken();\r\n    const result = await fileService.uploadFile(file, token);\r\n\r\n    if (result.success) {\r\n      setMessage({ type: 'success', text: result.message });\r\n      setFileName('');\r\n      fileInputRef.current.value = '';\r\n      onUploadSuccess();\r\n    } else {\r\n      setMessage({ type: 'error', text: result.error });\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div style={styles.card}>\r\n      <h2 style={styles.title}>\r\n        <Upload size={20} /> Upload File\r\n      </h2>\r\n\r\n      {message && (\r\n        <div\r\n          style={{\r\n            ...styles.message,\r\n            ...(message.type === 'error' ? styles.error : styles.success),\r\n          }}\r\n        >\r\n          {message.type === 'error' ? (\r\n            <AlertCircle size={18} />\r\n          ) : (\r\n            <CheckCircle size={18} />\r\n          )}\r\n          <span>{message.text}</span>\r\n        </div>\r\n      )}\r\n\r\n      <div style={styles.inputGroup}>\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          onChange={handleFileSelect}\r\n          style={styles.fileInput}\r\n        />\r\n        <span style={styles.fileName}>\r\n          {fileName || 'No file selected'}\r\n        </span>\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleUpload}\r\n        disabled={loading}\r\n        style={{ ...styles.button, opacity: loading ? 0.7 : 1 }}\r\n      >\r\n        {loading ? 'Uploading...' : 'Upload'}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  card: {\r\n    background: 'white',\r\n    borderRadius: '12px',\r\n    padding: '20px',\r\n    boxShadow: '0 4px 20px rgba(0,0,0,0.08)',\r\n    marginBottom: '20px',\r\n  },\r\n  title: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    fontSize: '18px',\r\n    marginBottom: '16px',\r\n  },\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '8px',\r\n    padding: '10px',\r\n    borderRadius: '8px',\r\n    marginBottom: '12px',\r\n    fontSize: '14px',\r\n  },\r\n  error: {\r\n    background: '#f8d7da',\r\n    color: '#721c24',\r\n  },\r\n  success: {\r\n    background: '#d4edda',\r\n    color: '#155724',\r\n  },\r\n  inputGroup: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '8px',\r\n    marginBottom: '16px',\r\n  },\r\n  fileInput: {\r\n    padding: '6px 0',\r\n  },\r\n  fileName: {\r\n    fontSize: '13px',\r\n    color: '#555',\r\n  },\r\n  button: {\r\n    padding: '10px 16px',\r\n    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '8px',\r\n    fontWeight: '600',\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}